<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>Web Audio API: AudioBuffer</title>
  </head>

  <body>
    <h1>Web Audio API: AudioBuffer</h1>
    <img src="https://motorbehaviour.wordpress.com/wp-content/uploads/2011/06/frequency_response21.jpg"/><br/>
    <button>Make gray noise</button>

  </body>
  <script>
    const button = document.querySelector("button");

    let audioCtx;

    // Stereo
    let channels = 2;

    function init() {
      
      const whiteNoiseNode = new AudioWorkletNode(audioCtx, "white-noise");

      whiteNoiseNode.connect(audioCtx.destination);
    }

    button.onclick = function() {
      if (!audioCtx) {
        audioCtx = new AudioContext();
        audioCtx.audioWorklet.addModule("script.js");
        setTimeout(init, 1000);
      }
    };
  </script>
</html>